<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>BPM_Tester</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <button onclick="timer()">BPM</button>
  <p id="info"></p>
  <p id="history"></p>
  <button onclick="clearInterval(timerInterval)">Stop</button>

  <script>
    const timings = [];
    let presses = 0;
    let timerInterval;
    let totalms;
    let milliseconds;
    let seconds;
    function timer() {
      presses++;
      if(presses == 1) {
        totalms = 0;
        milliseconds = 0;
        seconds = 0;
          function update() {
            totalms+=1;
            seconds=Math.floor(totalms/100);
            milliseconds=totalms%100;
          /*if(milliseconds >= 1000) {
            seconds++;
            milliseconds = 0;
          }*/
        document.getElementById("info").innerHTML = seconds + "." + milliseconds;
        }
        timerInterval = setInterval(update, 10);
      }
      if(presses > 1) {
        timings.push(totalms);
        console.log(totalms);
        totalms=0;
        document.getElementById("history").innerHTML = timings;
      }
    }

    function result() {
    
    }
  </script>
</body>
